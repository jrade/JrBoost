train predictor: 1:19:10



must purge panda from the code

	revert to old stratified folds
	optimized t-test implementation

------------------------------------------------------

stratified folds that take pandas series and return pandas index
	time again

number of variables hyper param

high level eval function ´that takes two pandas dataframe, two pandas series and an options list

eval function that returns score

run the old grid search again

-------------------------------------------------

gradient boost
	read xgb paper to check that my understanding is correct

trees

------------------------------------------------

later:
	how to handle sumW_ == 0.0
		curretnly we return a stumppredictor that always predicts 0
		a better fix would be make sample selection among samples with weight != 0 (or > some threshold)
			this could be implemented as a stratified selection with weight 0 samples as a third stratum

	data members of boosters should be const
		can not iterate over const Eigen Ref object!!!!

	SIMD parallelize the variable (j) loop

------------------------------------

profile

	init with random device

	profile data validation
		StumpTrainer::train()
			ASSERT((outData > -numeric_limits<double>::infinity()).all());
			ASSERT((outData < numeric_limits<double>::infinity()).all());

	AdaBoostTrainer::trainAndPredict
		how does it scale with the number of options and number of threads?

...........................................................


...........................................................
def invert_permutation(p):
    '''The argument p is assumed to be some permutation of 0, 1, ..., len(p)-1. 
    Returns an array s, where s[i] gives the index of i in p.
    '''
    s = np.empty_like(p)
    s[p] = np.arange(p.size)
    return s

how id AdaBoostOptions.baseOptions handles by pybind11??
	can we modify a const object?

-----------------------------------------------------------

follow up alpha boost idea

----------------------------------------------------------------------

low prio:
	look in the old stub (or rather tree) builder code and see how I avoided rounding off errors towards the end
	faster uint64_t based Bernoulli distribution ??
	allow more than two strata in StumpPredictor?
	L2-penalty (lambda) or L1-penalty (alpha)
	multi-group

----------------------------------------------------------------------

PyBind11 issues:
	investigate abstract factory crash (JrBooster Crash)
		is the problem return values that are derived objects passed with unique_ptr to base class?
		test with the Miniconda that somes bundles with Visual Studio
	how translate custom C++ exceptions to standard Python exceptions
	no way of specifying noocnvert for property setters
	
Gerstmann issues:
	add move constructors to enable code such as
		xorshift rne((std::random_device()));
	seed function would be useful
	free functions (operator== and operator!=) should be inline
		or linker will complain if you include the header in multiple translation units
	should be standard compliant

Eigen issues:
	can not reset Ref objects
	no select with two constants
	    StumpTrainerImpl(CRefXXf inData, RefXs strata)
			second argument should be CRefXs, but that leads to problems ...

NumPy issues:
	inData[trainSamples, :] does not preserve Fortran (column major) order


------------------------------------------------------------------------

läs: https://romanpoya.medium.com/a-look-at-the-performance-of-expression-templates-in-c-eigen-vs-blaze-vs-fastor-vs-armadillo-vs-2474ed38d982

Notes:
	MSVS 2019:
		Tools > Options > Python > Conda: ..../conda.exe
		compiler flag:  /permissive-
		Run-time Library = Multi-threaded DLL (/MD) (for all configurations!)
		mixed debugging

	numpy: rowmajor
	eigen: colmajor

	https://docs.microsoft.com/en-us/visualstudio/python/working-with-c-cpp-python-in-visual-studio?view=vs-2019
